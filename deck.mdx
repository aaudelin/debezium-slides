import { Image, Appear, Notes } from 'mdx-deck'
import { Invert, FullScreenCode } from 'mdx-deck'
import { Head } from 'mdx-deck'
import { prism as testCool } from './prismTheme'
import { Prism as Highlighter } from 'react-syntax-highlighter'
import atomDark from 'react-syntax-highlighter/dist/esm/styles/prism/atom-dark';

export const themes = [ testCool ]

<Head>
  <title>Kotlin ❤️ Debezium</title>
</Head>

# Kotlin ❤️ Debezium 
# Un joyeux mélange !


<div>
  <img src='https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Kotlin-logo.svg/800px-Kotlin-logo.svg.png' width='100'/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  <img src='https://avatars3.githubusercontent.com/u/11964329?s=400&v=4' width='100'/>
</div>

---

# L'instant promo

<div>
  <img src='https://upload.wikimedia.org/wikipedia/fr/c/c8/Twitter_Bird.svg' width='100'/>
&nbsp; @AurelienAudelin
</div>

<div>
  <img src='https://www.solutions-numeriques.com/wp-content/uploads/2015/01/linkedin-1424358279.png' width='100'/>
&nbsp;github.com/aaudelin

</div>

<div>
  <img src='https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png' width='100'/>
&nbsp;linkedin.com/in/aaudelin/
</div>

---

# On commence quand ?

<img src='https://media1.giphy.com/media/tXL4FHPSnVJ0A/giphy.gif' width='500'/>

---

# Maintenant

<Appear>

#### Le CDC avec Debezium & Spring
#### Le besoin et la mise en place
#### Et avec tout ça, ça donne quoi ?

</Appear>

---

# C 
# D 
# C

---

# Change 
# D 
# C

---

# Change 
# Data 
# C

---

# Change
# Data
# Capture

---

## "_Turn your database_ 
## _into stream events_"

<Appear>

<img src='https://media1.giphy.com/media/UO5elnTqo4vSg/giphy.gif' width='20%'/>

</Appear>

---

Modification BDD (_Update, Insert, Delete_ )


<Appear>

<img src='https://github.com/aaudelin/debezium-slides/blob/master/images/vertical-stream-pipe.png?raw=true' width='8%'/>

_{Event Debezium}_

</Appear>

---

#### _{Event Debezium}_  &rarr; SourceRecord

<ul>

<Appear>

<li>Topic</li>
<li>Operation</li>
<li>Payload</li>

</Appear>

</ul>

---

<img src='https://debezium.io/images/debezium-architecture.png'  width='100%' />

<ul>

<Appear>

<li>Connecteur 'source' vers Kafka</li>
<li>Pipeline Kafka</li>
<li>Connecteur 'sink' vers cible</li>

</Appear>

</ul>

---

## Le rêve des devs ...

<img src='https://media.giphy.com/media/3oEduU2JjgQUGKyNvG/giphy.gif' width='500'/>

---

## ... un cauchemar pour les ops !

<img src='https://media0.giphy.com/media/3x879tF9M0gcU/giphy.gif' width='500'/>

---

## Embarqué dans Spring Boot

<ul>

<Appear>

<li>Serveur Tomcat embarqué</li>
<li>Auto-configuration</li>
<li>Metrics</li>

</Appear>

</ul>

---

<Highlighter language="xml" style={atomDark}>
{`<dependency>
  <groupId>io.debezium</groupId>
  <artifactId>
    debezium-embedded
  </artifactId>
  <version>1.0.0.Final</version>
<dependency>`}
</Highlighter>

---

<Highlighter language="xml" style={atomDark}>
{`<dependency>
  <groupId>io.debezium</groupId>
  <artifactId>
    debezium-connector-postgres
  </artifactId>
  <version>1.0.0.Final</version>
<dependency>`}
</Highlighter>

---

# On veut du Kotlin !

<img src='https://media0.giphy.com/media/JzOyy8vKMCwvK/giphy.gif' width='500'/>

---

<code></code>

<Invert>

<FullScreenCode>

```kotlin
val test =12
  query {
    fileName: file(relativePath: { eq: "images/myimage.jpg" }) {
      childImageSharp {
        fluid(maxWidth: 400, maxHeight: 250) {
          ...GatsbyImageSharpFluid
        }
      }
    }
  }
```
</FullScreenCode>

</Invert>
